"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/history/route";
exports.ids = ["app/api/history/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fhistory%2Froute&page=%2Fapi%2Fhistory%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fhistory%2Froute.ts&appDir=C%3A%5CUsers%5CArush%20Gupta%5CDownloads%5CBosDB-Browser%5Capps%5Cweb%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CArush%20Gupta%5CDownloads%5CBosDB-Browser%5Capps%5Cweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!":
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fhistory%2Froute&page=%2Fapi%2Fhistory%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fhistory%2Froute.ts&appDir=C%3A%5CUsers%5CArush%20Gupta%5CDownloads%5CBosDB-Browser%5Capps%5Cweb%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CArush%20Gupta%5CDownloads%5CBosDB-Browser%5Capps%5Cweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_Arush_Gupta_Downloads_BosDB_Browser_apps_web_src_app_api_history_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/history/route.ts */ \"(rsc)/./src/app/api/history/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"standalone\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/history/route\",\n        pathname: \"/api/history\",\n        filename: \"route\",\n        bundlePath: \"app/api/history/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\Arush Gupta\\\\Downloads\\\\BosDB-Browser\\\\apps\\\\web\\\\src\\\\app\\\\api\\\\history\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_Arush_Gupta_Downloads_BosDB_Browser_apps_web_src_app_api_history_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/history/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZoaXN0b3J5JTJGcm91dGUmcGFnZT0lMkZhcGklMkZoaXN0b3J5JTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGaGlzdG9yeSUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNBcnVzaCUyMEd1cHRhJTVDRG93bmxvYWRzJTVDQm9zREItQnJvd3NlciU1Q2FwcHMlNUN3ZWIlNUNzcmMlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUMlM0ElNUNVc2VycyU1Q0FydXNoJTIwR3VwdGElNUNEb3dubG9hZHMlNUNCb3NEQi1Ccm93c2VyJTVDYXBwcyU1Q3dlYiZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD1zdGFuZGFsb25lJnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQzZDO0FBQzFIO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGJvc2RiL3dlYi8/NGUzZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxBcnVzaCBHdXB0YVxcXFxEb3dubG9hZHNcXFxcQm9zREItQnJvd3NlclxcXFxhcHBzXFxcXHdlYlxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxoaXN0b3J5XFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcInN0YW5kYWxvbmVcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvaGlzdG9yeS9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2hpc3RvcnlcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2hpc3Rvcnkvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxVc2Vyc1xcXFxBcnVzaCBHdXB0YVxcXFxEb3dubG9hZHNcXFxcQm9zREItQnJvd3NlclxcXFxhcHBzXFxcXHdlYlxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxoaXN0b3J5XFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9oaXN0b3J5L3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fhistory%2Froute&page=%2Fapi%2Fhistory%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fhistory%2Froute.ts&appDir=C%3A%5CUsers%5CArush%20Gupta%5CDownloads%5CBosDB-Browser%5Capps%5Cweb%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CArush%20Gupta%5CDownloads%5CBosDB-Browser%5Capps%5Cweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/history/route.ts":
/*!**************************************!*\
  !*** ./src/app/api/history/route.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DELETE: () => (/* binding */ DELETE),\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_queryStore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/queryStore */ \"(rsc)/./src/lib/queryStore.ts\");\n/* harmony import */ var _bosdb_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @bosdb/utils */ \"(rsc)/../../packages/utils/src/index.ts\");\n\n\n\nconst logger = new _bosdb_utils__WEBPACK_IMPORTED_MODULE_2__.Logger(\"QueryHistoryAPI\");\nasync function GET(request) {\n    try {\n        const { searchParams } = new URL(request.url);\n        const connectionId = searchParams.get(\"connectionId\");\n        const limit = parseInt(searchParams.get(\"limit\") || \"50\");\n        const userEmail = request.headers.get(\"x-user-email\");\n        const orgId = request.headers.get(\"x-org-id\");\n        let history;\n        if (userEmail) {\n            history = (__webpack_require__(/*! @/lib/queryStore */ \"(rsc)/./src/lib/queryStore.ts\").getUserQueryHistory)(userEmail, orgId || undefined, connectionId || undefined, limit);\n        } else {\n            // Fallback for backward compatibility (or admin view)\n            history = (0,_lib_queryStore__WEBPACK_IMPORTED_MODULE_1__.getQueryHistory)(connectionId || undefined, limit);\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            history\n        });\n    } catch (error) {\n        logger.error(\"Failed to get query history\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to get query history\",\n            message: error.message\n        }, {\n            status: 500\n        });\n    }\n}\nasync function DELETE(request) {\n    try {\n        const { searchParams } = new URL(request.url);\n        const connectionId = searchParams.get(\"connectionId\");\n        const userEmail = request.headers.get(\"x-user-email\");\n        (0,_lib_queryStore__WEBPACK_IMPORTED_MODULE_1__.clearQueryHistory)(connectionId || undefined, userEmail || undefined);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true\n        });\n    } catch (error) {\n        logger.error(\"Failed to clear query history\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to clear query history\",\n            message: error.message\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9oaXN0b3J5L3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXdEO0FBQ2M7QUFDaEM7QUFFdEMsTUFBTUksU0FBUyxJQUFJRCxnREFBTUEsQ0FBQztBQUVuQixlQUFlRSxJQUFJQyxPQUFvQjtJQUMxQyxJQUFJO1FBQ0EsTUFBTSxFQUFFQyxZQUFZLEVBQUUsR0FBRyxJQUFJQyxJQUFJRixRQUFRRyxHQUFHO1FBQzVDLE1BQU1DLGVBQWVILGFBQWFJLEdBQUcsQ0FBQztRQUN0QyxNQUFNQyxRQUFRQyxTQUFTTixhQUFhSSxHQUFHLENBQUMsWUFBWTtRQUNwRCxNQUFNRyxZQUFZUixRQUFRUyxPQUFPLENBQUNKLEdBQUcsQ0FBQztRQUN0QyxNQUFNSyxRQUFRVixRQUFRUyxPQUFPLENBQUNKLEdBQUcsQ0FBQztRQUVsQyxJQUFJTTtRQUNKLElBQUlILFdBQVc7WUFDWEcsVUFBVUMsa0dBQStDLENBQ3JESixXQUNBRSxTQUFTSSxXQUNUVixnQkFBZ0JVLFdBQ2hCUjtRQUVSLE9BQU87WUFDSCxzREFBc0Q7WUFDdERLLFVBQVVoQixnRUFBZUEsQ0FBQ1MsZ0JBQWdCVSxXQUFXUjtRQUN6RDtRQUVBLE9BQU9aLHFEQUFZQSxDQUFDcUIsSUFBSSxDQUFDO1lBQUVKO1FBQVE7SUFDdkMsRUFBRSxPQUFPSyxPQUFZO1FBQ2pCbEIsT0FBT2tCLEtBQUssQ0FBQywrQkFBK0JBO1FBQzVDLE9BQU90QixxREFBWUEsQ0FBQ3FCLElBQUksQ0FDcEI7WUFBRUMsT0FBTztZQUErQkMsU0FBU0QsTUFBTUMsT0FBTztRQUFDLEdBQy9EO1lBQUVDLFFBQVE7UUFBSTtJQUV0QjtBQUNKO0FBRU8sZUFBZUMsT0FBT25CLE9BQW9CO0lBQzdDLElBQUk7UUFDQSxNQUFNLEVBQUVDLFlBQVksRUFBRSxHQUFHLElBQUlDLElBQUlGLFFBQVFHLEdBQUc7UUFDNUMsTUFBTUMsZUFBZUgsYUFBYUksR0FBRyxDQUFDO1FBQ3RDLE1BQU1HLFlBQVlSLFFBQVFTLE9BQU8sQ0FBQ0osR0FBRyxDQUFDO1FBRXRDVCxrRUFBaUJBLENBQUNRLGdCQUFnQlUsV0FBV04sYUFBYU07UUFFMUQsT0FBT3BCLHFEQUFZQSxDQUFDcUIsSUFBSSxDQUFDO1lBQUVLLFNBQVM7UUFBSztJQUM3QyxFQUFFLE9BQU9KLE9BQVk7UUFDakJsQixPQUFPa0IsS0FBSyxDQUFDLGlDQUFpQ0E7UUFDOUMsT0FBT3RCLHFEQUFZQSxDQUFDcUIsSUFBSSxDQUNwQjtZQUFFQyxPQUFPO1lBQWlDQyxTQUFTRCxNQUFNQyxPQUFPO1FBQUMsR0FDakU7WUFBRUMsUUFBUTtRQUFJO0lBRXRCO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AYm9zZGIvd2ViLy4vc3JjL2FwcC9hcGkvaGlzdG9yeS9yb3V0ZS50cz9hODMzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XHJcbmltcG9ydCB7IGdldFF1ZXJ5SGlzdG9yeSwgY2xlYXJRdWVyeUhpc3RvcnkgfSBmcm9tICdAL2xpYi9xdWVyeVN0b3JlJztcclxuaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSAnQGJvc2RiL3V0aWxzJztcclxuXHJcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoJ1F1ZXJ5SGlzdG9yeUFQSScpO1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XHJcbiAgICAgICAgY29uc3QgY29ubmVjdGlvbklkID0gc2VhcmNoUGFyYW1zLmdldCgnY29ubmVjdGlvbklkJyk7XHJcbiAgICAgICAgY29uc3QgbGltaXQgPSBwYXJzZUludChzZWFyY2hQYXJhbXMuZ2V0KCdsaW1pdCcpIHx8ICc1MCcpO1xyXG4gICAgICAgIGNvbnN0IHVzZXJFbWFpbCA9IHJlcXVlc3QuaGVhZGVycy5nZXQoJ3gtdXNlci1lbWFpbCcpO1xyXG4gICAgICAgIGNvbnN0IG9yZ0lkID0gcmVxdWVzdC5oZWFkZXJzLmdldCgneC1vcmctaWQnKTtcclxuXHJcbiAgICAgICAgbGV0IGhpc3Rvcnk7XHJcbiAgICAgICAgaWYgKHVzZXJFbWFpbCkge1xyXG4gICAgICAgICAgICBoaXN0b3J5ID0gcmVxdWlyZSgnQC9saWIvcXVlcnlTdG9yZScpLmdldFVzZXJRdWVyeUhpc3RvcnkoXHJcbiAgICAgICAgICAgICAgICB1c2VyRW1haWwsXHJcbiAgICAgICAgICAgICAgICBvcmdJZCB8fCB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICBjb25uZWN0aW9uSWQgfHwgdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgbGltaXRcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBGYWxsYmFjayBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSAob3IgYWRtaW4gdmlldylcclxuICAgICAgICAgICAgaGlzdG9yeSA9IGdldFF1ZXJ5SGlzdG9yeShjb25uZWN0aW9uSWQgfHwgdW5kZWZpbmVkLCBsaW1pdCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBoaXN0b3J5IH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgICAgIGxvZ2dlci5lcnJvcignRmFpbGVkIHRvIGdldCBxdWVyeSBoaXN0b3J5JywgZXJyb3IpO1xyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICAgICAgeyBlcnJvcjogJ0ZhaWxlZCB0byBnZXQgcXVlcnkgaGlzdG9yeScsIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UgfSxcclxuICAgICAgICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIERFTEVURShyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XHJcbiAgICAgICAgY29uc3QgY29ubmVjdGlvbklkID0gc2VhcmNoUGFyYW1zLmdldCgnY29ubmVjdGlvbklkJyk7XHJcbiAgICAgICAgY29uc3QgdXNlckVtYWlsID0gcmVxdWVzdC5oZWFkZXJzLmdldCgneC11c2VyLWVtYWlsJyk7XHJcblxyXG4gICAgICAgIGNsZWFyUXVlcnlIaXN0b3J5KGNvbm5lY3Rpb25JZCB8fCB1bmRlZmluZWQsIHVzZXJFbWFpbCB8fCB1bmRlZmluZWQpO1xyXG5cclxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzdWNjZXNzOiB0cnVlIH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgICAgIGxvZ2dlci5lcnJvcignRmFpbGVkIHRvIGNsZWFyIHF1ZXJ5IGhpc3RvcnknLCBlcnJvcik7XHJcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgICAgICB7IGVycm9yOiAnRmFpbGVkIHRvIGNsZWFyIHF1ZXJ5IGhpc3RvcnknLCBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIH0sXHJcbiAgICAgICAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImdldFF1ZXJ5SGlzdG9yeSIsImNsZWFyUXVlcnlIaXN0b3J5IiwiTG9nZ2VyIiwibG9nZ2VyIiwiR0VUIiwicmVxdWVzdCIsInNlYXJjaFBhcmFtcyIsIlVSTCIsInVybCIsImNvbm5lY3Rpb25JZCIsImdldCIsImxpbWl0IiwicGFyc2VJbnQiLCJ1c2VyRW1haWwiLCJoZWFkZXJzIiwib3JnSWQiLCJoaXN0b3J5IiwicmVxdWlyZSIsImdldFVzZXJRdWVyeUhpc3RvcnkiLCJ1bmRlZmluZWQiLCJqc29uIiwiZXJyb3IiLCJtZXNzYWdlIiwic3RhdHVzIiwiREVMRVRFIiwic3VjY2VzcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/history/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/queryStore.ts":
/*!*******************************!*\
  !*** ./src/lib/queryStore.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addQueryToHistory: () => (/* binding */ addQueryToHistory),\n/* harmony export */   clearQueryHistory: () => (/* binding */ clearQueryHistory),\n/* harmony export */   createSavedQuery: () => (/* binding */ createSavedQuery),\n/* harmony export */   deleteSavedQuery: () => (/* binding */ deleteSavedQuery),\n/* harmony export */   getQueryHistory: () => (/* binding */ getQueryHistory),\n/* harmony export */   getSavedQueries: () => (/* binding */ getSavedQueries),\n/* harmony export */   getUserQueryHistory: () => (/* binding */ getUserQueryHistory),\n/* harmony export */   getUserSavedQueries: () => (/* binding */ getUserSavedQueries),\n/* harmony export */   loadQueryHistory: () => (/* binding */ loadQueryHistory),\n/* harmony export */   loadSavedQueries: () => (/* binding */ loadSavedQueries),\n/* harmony export */   saveQueryHistory: () => (/* binding */ saveQueryHistory),\n/* harmony export */   saveSavedQueries: () => (/* binding */ saveSavedQueries),\n/* harmony export */   updateSavedQuery: () => (/* binding */ updateSavedQuery)\n/* harmony export */ });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst HISTORY_FILE = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \".bosdb-query-history.json\");\nconst SAVED_QUERIES_FILE = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \".bosdb-saved-queries.json\");\n// Query History Management\nlet queryHistory = null;\nfunction loadQueryHistory() {\n    if (queryHistory !== null) {\n        return queryHistory;\n    }\n    queryHistory = []; //  Initialize to avoid null\n    try {\n        if (fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(HISTORY_FILE)) {\n            const data = fs__WEBPACK_IMPORTED_MODULE_0___default().readFileSync(HISTORY_FILE, \"utf-8\");\n            const parsed = JSON.parse(data);\n            queryHistory = parsed;\n            console.log(`[QueryHistory] Loaded ${parsed.length} entries`);\n        }\n    } catch (error) {\n        console.error(\"[QueryHistory] Failed to load:\", error);\n    }\n    return queryHistory;\n}\nfunction saveQueryHistory() {\n    const history = loadQueryHistory();\n    try {\n        // Keep only last 100 queries\n        const recentHistory = history.slice(-100);\n        fs__WEBPACK_IMPORTED_MODULE_0___default().writeFileSync(HISTORY_FILE, JSON.stringify(recentHistory, null, 2));\n        console.log(`[QueryHistory] Saved ${recentHistory.length} entries`);\n    } catch (error) {\n        console.error(\"[QueryHistory] Failed to save:\", error);\n    }\n}\nfunction addQueryToHistory(entry) {\n    const history = loadQueryHistory();\n    const historyEntry = {\n        ...entry,\n        id: `history_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`\n    };\n    history.push(historyEntry);\n    saveQueryHistory();\n    return historyEntry;\n}\nfunction getQueryHistory(connectionId, limit = 50) {\n    const history = loadQueryHistory();\n    let filtered = history;\n    if (connectionId) {\n        filtered = history.filter((entry)=>entry.connectionId === connectionId);\n    }\n    // Return most recent first\n    return filtered.slice(-limit).reverse();\n}\nfunction getUserQueryHistory(userEmail, orgId, connectionId, limit = 50) {\n    const history = loadQueryHistory();\n    let filtered = history.filter((entry)=>entry.userEmail === userEmail);\n    // If orgId provided, ensure data matches org (strict isolation)\n    if (orgId) {\n        filtered = filtered.filter((entry)=>entry.orgId === orgId);\n    }\n    if (connectionId) {\n        filtered = filtered.filter((entry)=>entry.connectionId === connectionId);\n    }\n    // Return most recent first\n    return filtered.slice(-limit).reverse();\n}\nfunction clearQueryHistory(connectionId, userEmail) {\n    const history = loadQueryHistory();\n    if (userEmail) {\n        // Remove only entries for this user\n        if (connectionId) {\n            queryHistory = history.filter((entry)=>!(entry.userEmail === userEmail && entry.connectionId === connectionId));\n        } else {\n            queryHistory = history.filter((entry)=>entry.userEmail !== userEmail);\n        }\n    } else {\n        // Legacy/Admin behavior (clear all or by connection)\n        if (connectionId) {\n            queryHistory = history.filter((entry)=>entry.connectionId !== connectionId);\n        } else {\n            queryHistory = [];\n        }\n    }\n    saveQueryHistory();\n}\n// Saved Queries Management\nlet savedQueries = null;\nfunction loadSavedQueries() {\n    if (savedQueries !== null) {\n        return savedQueries;\n    }\n    savedQueries = []; // Initialize to avoid null\n    try {\n        if (fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(SAVED_QUERIES_FILE)) {\n            const data = fs__WEBPACK_IMPORTED_MODULE_0___default().readFileSync(SAVED_QUERIES_FILE, \"utf-8\");\n            const parsed = JSON.parse(data);\n            savedQueries = parsed;\n            console.log(`[SavedQueries] Loaded ${parsed.length} queries`);\n        }\n    } catch (error) {\n        console.error(\"[SavedQueries] Failed to load:\", error);\n    }\n    return savedQueries;\n}\nfunction saveSavedQueries() {\n    const queries = loadSavedQueries();\n    try {\n        fs__WEBPACK_IMPORTED_MODULE_0___default().writeFileSync(SAVED_QUERIES_FILE, JSON.stringify(queries, null, 2));\n        console.log(`[SavedQueries] Saved ${queries.length} queries`);\n    } catch (error) {\n        console.error(\"[SavedQueries] Failed to save:\", error);\n    }\n}\nfunction createSavedQuery(query) {\n    const queries = loadSavedQueries();\n    const now = new Date().toISOString();\n    const savedQuery = {\n        ...query,\n        id: `saved_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n        createdAt: now,\n        updatedAt: now\n    };\n    queries.push(savedQuery);\n    saveSavedQueries();\n    return savedQuery;\n}\nfunction getSavedQueries(connectionId) {\n    const queries = loadSavedQueries();\n    if (connectionId) {\n        return queries.filter((q)=>!q.connectionId || q.connectionId === connectionId);\n    }\n    return queries;\n}\nfunction getUserSavedQueries(userEmail, orgId, connectionId) {\n    const queries = loadSavedQueries();\n    let filtered = queries.filter((q)=>q.userEmail === userEmail);\n    // If orgId provided, strict isolation\n    if (orgId) {\n        filtered = filtered.filter((q)=>q.orgId === orgId);\n    }\n    if (connectionId) {\n        filtered = filtered.filter((q)=>!q.connectionId || q.connectionId === connectionId);\n    }\n    return filtered;\n}\nfunction updateSavedQuery(id, updates) {\n    const queries = loadSavedQueries();\n    const index = queries.findIndex((q)=>q.id === id);\n    if (index === -1) return null;\n    queries[index] = {\n        ...queries[index],\n        ...updates,\n        updatedAt: new Date().toISOString()\n    };\n    saveSavedQueries();\n    return queries[index];\n}\nfunction deleteSavedQuery(id) {\n    const queries = loadSavedQueries();\n    const initialLength = queries.length;\n    savedQueries = queries.filter((q)=>q.id !== id);\n    if (savedQueries.length < initialLength) {\n        saveSavedQueries();\n        return true;\n    }\n    return false;\n} // NO automatic initialization - data loads only when functions are called\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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VSxFQUFFZ0MsT0FBc0Q7SUFDL0YsTUFBTVgsVUFBVUY7SUFDaEIsTUFBTWMsUUFBUVosUUFBUWEsU0FBUyxDQUFDTCxDQUFBQSxJQUFLQSxFQUFFN0IsRUFBRSxLQUFLQTtJQUM5QyxJQUFJaUMsVUFBVSxDQUFDLEdBQUcsT0FBTztJQUV6QlosT0FBTyxDQUFDWSxNQUFNLEdBQUc7UUFDYixHQUFHWixPQUFPLENBQUNZLE1BQU07UUFDakIsR0FBR0QsT0FBTztRQUNWTCxXQUFXLElBQUkxQixPQUFPdUIsV0FBVztJQUNyQztJQUVBSjtJQUNBLE9BQU9DLE9BQU8sQ0FBQ1ksTUFBTTtBQUN6QjtBQUVPLFNBQVNFLGlCQUFpQm5DLEVBQVU7SUFDdkMsTUFBTXFCLFVBQVVGO0lBQ2hCLE1BQU1pQixnQkFBZ0JmLFFBQVFoQyxNQUFNO0lBQ3BDNkIsZUFBZUcsUUFBUVQsTUFBTSxDQUFDaUIsQ0FBQUEsSUFBS0EsRUFBRTdCLEVBQUUsS0FBS0E7SUFFNUMsSUFBSWtCLGFBQWE3QixNQUFNLEdBQUcrQyxlQUFlO1FBQ3JDaEI7UUFDQSxPQUFPO0lBQ1g7SUFFQSxPQUFPO0FBQ1gsRUFFQSwwRUFBMEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AYm9zZGIvd2ViLy4vc3JjL2xpYi9xdWVyeVN0b3JlLnRzPzIwOGUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGZzIGZyb20gJ2ZzJztcclxuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XHJcblxyXG5jb25zdCBISVNUT1JZX0ZJTEUgPSBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgJy5ib3NkYi1xdWVyeS1oaXN0b3J5Lmpzb24nKTtcclxuY29uc3QgU0FWRURfUVVFUklFU19GSUxFID0gcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICcuYm9zZGItc2F2ZWQtcXVlcmllcy5qc29uJyk7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFF1ZXJ5SGlzdG9yeUVudHJ5IHtcclxuICAgIGlkOiBzdHJpbmc7XHJcbiAgICBjb25uZWN0aW9uSWQ6IHN0cmluZztcclxuICAgIGNvbm5lY3Rpb25OYW1lOiBzdHJpbmc7XHJcbiAgICBxdWVyeTogc3RyaW5nO1xyXG4gICAgZXhlY3V0ZWRBdDogc3RyaW5nO1xyXG4gICAgZXhlY3V0aW9uVGltZTogbnVtYmVyO1xyXG4gICAgcm93Q291bnQ6IG51bWJlcjtcclxuICAgIHN1Y2Nlc3M6IGJvb2xlYW47XHJcbiAgICBlcnJvcj86IHN0cmluZztcclxuICAgIHVzZXJFbWFpbD86IHN0cmluZzsgLy8gT1BUSU9OQUw6IFVzZXIgd2hvIGV4ZWN1dGVkIHRoZSBxdWVyeVxyXG4gICAgb3JnSWQ/OiBzdHJpbmc7ICAgICAvLyBPUFRJT05BTDogT3JnYW5pemF0aW9uIGNvbnRleHRcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTYXZlZFF1ZXJ5IHtcclxuICAgIGlkOiBzdHJpbmc7XHJcbiAgICBuYW1lOiBzdHJpbmc7XHJcbiAgICBkZXNjcmlwdGlvbj86IHN0cmluZztcclxuICAgIHF1ZXJ5OiBzdHJpbmc7XHJcbiAgICBjb25uZWN0aW9uSWQ/OiBzdHJpbmc7XHJcbiAgICBjcmVhdGVkQXQ6IHN0cmluZztcclxuICAgIHVwZGF0ZWRBdDogc3RyaW5nO1xyXG4gICAgdXNlckVtYWlsPzogc3RyaW5nOyAvLyBPUFRJT05BTDogVXNlciB3aG8gY3JlYXRlZCB0aGUgcXVlcnlcclxuICAgIG9yZ0lkPzogc3RyaW5nOyAgICAgLy8gT1BUSU9OQUw6IE9yZ2FuaXphdGlvbiBjb250ZXh0XHJcbn1cclxuXHJcbi8vIFF1ZXJ5IEhpc3RvcnkgTWFuYWdlbWVudFxyXG5sZXQgcXVlcnlIaXN0b3J5OiBRdWVyeUhpc3RvcnlFbnRyeVtdIHwgbnVsbCA9IG51bGw7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbG9hZFF1ZXJ5SGlzdG9yeSgpOiBRdWVyeUhpc3RvcnlFbnRyeVtdIHtcclxuICAgIGlmIChxdWVyeUhpc3RvcnkgIT09IG51bGwpIHtcclxuICAgICAgICByZXR1cm4gcXVlcnlIaXN0b3J5O1xyXG4gICAgfVxyXG5cclxuICAgIHF1ZXJ5SGlzdG9yeSA9IFtdOyAvLyAgSW5pdGlhbGl6ZSB0byBhdm9pZCBudWxsXHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgICBpZiAoZnMuZXhpc3RzU3luYyhISVNUT1JZX0ZJTEUpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBmcy5yZWFkRmlsZVN5bmMoSElTVE9SWV9GSUxFLCAndXRmLTgnKTtcclxuICAgICAgICAgICAgY29uc3QgcGFyc2VkOiBRdWVyeUhpc3RvcnlFbnRyeVtdID0gSlNPTi5wYXJzZShkYXRhKTtcclxuICAgICAgICAgICAgcXVlcnlIaXN0b3J5ID0gcGFyc2VkO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgW1F1ZXJ5SGlzdG9yeV0gTG9hZGVkICR7cGFyc2VkLmxlbmd0aH0gZW50cmllc2ApO1xyXG4gICAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignW1F1ZXJ5SGlzdG9yeV0gRmFpbGVkIHRvIGxvYWQ6JywgZXJyb3IpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHF1ZXJ5SGlzdG9yeTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNhdmVRdWVyeUhpc3RvcnkoKSB7XHJcbiAgICBjb25zdCBoaXN0b3J5ID0gbG9hZFF1ZXJ5SGlzdG9yeSgpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICAvLyBLZWVwIG9ubHkgbGFzdCAxMDAgcXVlcmllc1xyXG4gICAgICAgIGNvbnN0IHJlY2VudEhpc3RvcnkgPSBoaXN0b3J5LnNsaWNlKC0xMDApO1xyXG4gICAgICAgIGZzLndyaXRlRmlsZVN5bmMoSElTVE9SWV9GSUxFLCBKU09OLnN0cmluZ2lmeShyZWNlbnRIaXN0b3J5LCBudWxsLCAyKSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coYFtRdWVyeUhpc3RvcnldIFNhdmVkICR7cmVjZW50SGlzdG9yeS5sZW5ndGh9IGVudHJpZXNgKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignW1F1ZXJ5SGlzdG9yeV0gRmFpbGVkIHRvIHNhdmU6JywgZXJyb3IpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYWRkUXVlcnlUb0hpc3RvcnkoZW50cnk6IE9taXQ8UXVlcnlIaXN0b3J5RW50cnksICdpZCc+KSB7XHJcbiAgICBjb25zdCBoaXN0b3J5ID0gbG9hZFF1ZXJ5SGlzdG9yeSgpO1xyXG4gICAgY29uc3QgaGlzdG9yeUVudHJ5OiBRdWVyeUhpc3RvcnlFbnRyeSA9IHtcclxuICAgICAgICAuLi5lbnRyeSxcclxuICAgICAgICBpZDogYGhpc3RvcnlfJHtEYXRlLm5vdygpfV8ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KX1gLFxyXG4gICAgfTtcclxuICAgIGhpc3RvcnkucHVzaChoaXN0b3J5RW50cnkpO1xyXG4gICAgc2F2ZVF1ZXJ5SGlzdG9yeSgpO1xyXG4gICAgcmV0dXJuIGhpc3RvcnlFbnRyeTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFF1ZXJ5SGlzdG9yeShjb25uZWN0aW9uSWQ/OiBzdHJpbmcsIGxpbWl0ID0gNTApOiBRdWVyeUhpc3RvcnlFbnRyeVtdIHtcclxuICAgIGNvbnN0IGhpc3RvcnkgPSBsb2FkUXVlcnlIaXN0b3J5KCk7XHJcblxyXG4gICAgbGV0IGZpbHRlcmVkID0gaGlzdG9yeTtcclxuICAgIGlmIChjb25uZWN0aW9uSWQpIHtcclxuICAgICAgICBmaWx0ZXJlZCA9IGhpc3RvcnkuZmlsdGVyKGVudHJ5ID0+IGVudHJ5LmNvbm5lY3Rpb25JZCA9PT0gY29ubmVjdGlvbklkKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXR1cm4gbW9zdCByZWNlbnQgZmlyc3RcclxuICAgIHJldHVybiBmaWx0ZXJlZC5zbGljZSgtbGltaXQpLnJldmVyc2UoKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFVzZXJRdWVyeUhpc3RvcnkodXNlckVtYWlsOiBzdHJpbmcsIG9yZ0lkPzogc3RyaW5nLCBjb25uZWN0aW9uSWQ/OiBzdHJpbmcsIGxpbWl0ID0gNTApOiBRdWVyeUhpc3RvcnlFbnRyeVtdIHtcclxuICAgIGNvbnN0IGhpc3RvcnkgPSBsb2FkUXVlcnlIaXN0b3J5KCk7XHJcblxyXG4gICAgbGV0IGZpbHRlcmVkID0gaGlzdG9yeS5maWx0ZXIoZW50cnkgPT4gZW50cnkudXNlckVtYWlsID09PSB1c2VyRW1haWwpO1xyXG5cclxuICAgIC8vIElmIG9yZ0lkIHByb3ZpZGVkLCBlbnN1cmUgZGF0YSBtYXRjaGVzIG9yZyAoc3RyaWN0IGlzb2xhdGlvbilcclxuICAgIGlmIChvcmdJZCkge1xyXG4gICAgICAgIGZpbHRlcmVkID0gZmlsdGVyZWQuZmlsdGVyKGVudHJ5ID0+IGVudHJ5Lm9yZ0lkID09PSBvcmdJZCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGNvbm5lY3Rpb25JZCkge1xyXG4gICAgICAgIGZpbHRlcmVkID0gZmlsdGVyZWQuZmlsdGVyKGVudHJ5ID0+IGVudHJ5LmNvbm5lY3Rpb25JZCA9PT0gY29ubmVjdGlvbklkKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXR1cm4gbW9zdCByZWNlbnQgZmlyc3RcclxuICAgIHJldHVybiBmaWx0ZXJlZC5zbGljZSgtbGltaXQpLnJldmVyc2UoKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyUXVlcnlIaXN0b3J5KGNvbm5lY3Rpb25JZD86IHN0cmluZywgdXNlckVtYWlsPzogc3RyaW5nKSB7XHJcbiAgICBjb25zdCBoaXN0b3J5ID0gbG9hZFF1ZXJ5SGlzdG9yeSgpO1xyXG4gICAgaWYgKHVzZXJFbWFpbCkge1xyXG4gICAgICAgIC8vIFJlbW92ZSBvbmx5IGVudHJpZXMgZm9yIHRoaXMgdXNlclxyXG4gICAgICAgIGlmIChjb25uZWN0aW9uSWQpIHtcclxuICAgICAgICAgICAgcXVlcnlIaXN0b3J5ID0gaGlzdG9yeS5maWx0ZXIoZW50cnkgPT5cclxuICAgICAgICAgICAgICAgICEoZW50cnkudXNlckVtYWlsID09PSB1c2VyRW1haWwgJiYgZW50cnkuY29ubmVjdGlvbklkID09PSBjb25uZWN0aW9uSWQpXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcXVlcnlIaXN0b3J5ID0gaGlzdG9yeS5maWx0ZXIoZW50cnkgPT4gZW50cnkudXNlckVtYWlsICE9PSB1c2VyRW1haWwpO1xyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gTGVnYWN5L0FkbWluIGJlaGF2aW9yIChjbGVhciBhbGwgb3IgYnkgY29ubmVjdGlvbilcclxuICAgICAgICBpZiAoY29ubmVjdGlvbklkKSB7XHJcbiAgICAgICAgICAgIHF1ZXJ5SGlzdG9yeSA9IGhpc3RvcnkuZmlsdGVyKGVudHJ5ID0+IGVudHJ5LmNvbm5lY3Rpb25JZCAhPT0gY29ubmVjdGlvbklkKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBxdWVyeUhpc3RvcnkgPSBbXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzYXZlUXVlcnlIaXN0b3J5KCk7XHJcbn1cclxuXHJcbi8vIFNhdmVkIFF1ZXJpZXMgTWFuYWdlbWVudFxyXG5sZXQgc2F2ZWRRdWVyaWVzOiBTYXZlZFF1ZXJ5W10gfCBudWxsID0gbnVsbDtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBsb2FkU2F2ZWRRdWVyaWVzKCk6IFNhdmVkUXVlcnlbXSB7XHJcbiAgICBpZiAoc2F2ZWRRdWVyaWVzICE9PSBudWxsKSB7XHJcbiAgICAgICAgcmV0dXJuIHNhdmVkUXVlcmllcztcclxuICAgIH1cclxuXHJcbiAgICBzYXZlZFF1ZXJpZXMgPSBbXTsgLy8gSW5pdGlhbGl6ZSB0byBhdm9pZCBudWxsXHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgICBpZiAoZnMuZXhpc3RzU3luYyhTQVZFRF9RVUVSSUVTX0ZJTEUpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBmcy5yZWFkRmlsZVN5bmMoU0FWRURfUVVFUklFU19GSUxFLCAndXRmLTgnKTtcclxuICAgICAgICAgICAgY29uc3QgcGFyc2VkOiBTYXZlZFF1ZXJ5W10gPSBKU09OLnBhcnNlKGRhdGEpO1xyXG4gICAgICAgICAgICBzYXZlZFF1ZXJpZXMgPSBwYXJzZWQ7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbU2F2ZWRRdWVyaWVzXSBMb2FkZWQgJHtwYXJzZWQubGVuZ3RofSBxdWVyaWVzYCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdbU2F2ZWRRdWVyaWVzXSBGYWlsZWQgdG8gbG9hZDonLCBlcnJvcik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc2F2ZWRRdWVyaWVzO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2F2ZVNhdmVkUXVlcmllcygpIHtcclxuICAgIGNvbnN0IHF1ZXJpZXMgPSBsb2FkU2F2ZWRRdWVyaWVzKCk7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGZzLndyaXRlRmlsZVN5bmMoU0FWRURfUVVFUklFU19GSUxFLCBKU09OLnN0cmluZ2lmeShxdWVyaWVzLCBudWxsLCAyKSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coYFtTYXZlZFF1ZXJpZXNdIFNhdmVkICR7cXVlcmllcy5sZW5ndGh9IHF1ZXJpZXNgKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignW1NhdmVkUXVlcmllc10gRmFpbGVkIHRvIHNhdmU6JywgZXJyb3IpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU2F2ZWRRdWVyeShxdWVyeTogT21pdDxTYXZlZFF1ZXJ5LCAnaWQnIHwgJ2NyZWF0ZWRBdCcgfCAndXBkYXRlZEF0Jz4pOiBTYXZlZFF1ZXJ5IHtcclxuICAgIGNvbnN0IHF1ZXJpZXMgPSBsb2FkU2F2ZWRRdWVyaWVzKCk7XHJcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XHJcbiAgICBjb25zdCBzYXZlZFF1ZXJ5OiBTYXZlZFF1ZXJ5ID0ge1xyXG4gICAgICAgIC4uLnF1ZXJ5LFxyXG4gICAgICAgIGlkOiBgc2F2ZWRfJHtEYXRlLm5vdygpfV8ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KX1gLFxyXG4gICAgICAgIGNyZWF0ZWRBdDogbm93LFxyXG4gICAgICAgIHVwZGF0ZWRBdDogbm93LFxyXG4gICAgfTtcclxuXHJcbiAgICBxdWVyaWVzLnB1c2goc2F2ZWRRdWVyeSk7XHJcbiAgICBzYXZlU2F2ZWRRdWVyaWVzKCk7XHJcbiAgICByZXR1cm4gc2F2ZWRRdWVyeTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFNhdmVkUXVlcmllcyhjb25uZWN0aW9uSWQ/OiBzdHJpbmcpOiBTYXZlZFF1ZXJ5W10ge1xyXG4gICAgY29uc3QgcXVlcmllcyA9IGxvYWRTYXZlZFF1ZXJpZXMoKTtcclxuXHJcbiAgICBpZiAoY29ubmVjdGlvbklkKSB7XHJcbiAgICAgICAgcmV0dXJuIHF1ZXJpZXMuZmlsdGVyKHEgPT4gIXEuY29ubmVjdGlvbklkIHx8IHEuY29ubmVjdGlvbklkID09PSBjb25uZWN0aW9uSWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBxdWVyaWVzO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0VXNlclNhdmVkUXVlcmllcyh1c2VyRW1haWw6IHN0cmluZywgb3JnSWQ/OiBzdHJpbmcsIGNvbm5lY3Rpb25JZD86IHN0cmluZyk6IFNhdmVkUXVlcnlbXSB7XHJcbiAgICBjb25zdCBxdWVyaWVzID0gbG9hZFNhdmVkUXVlcmllcygpO1xyXG5cclxuICAgIGxldCBmaWx0ZXJlZCA9IHF1ZXJpZXMuZmlsdGVyKHEgPT4gcS51c2VyRW1haWwgPT09IHVzZXJFbWFpbCk7XHJcblxyXG4gICAgLy8gSWYgb3JnSWQgcHJvdmlkZWQsIHN0cmljdCBpc29sYXRpb25cclxuICAgIGlmIChvcmdJZCkge1xyXG4gICAgICAgIGZpbHRlcmVkID0gZmlsdGVyZWQuZmlsdGVyKHEgPT4gcS5vcmdJZCA9PT0gb3JnSWQpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjb25uZWN0aW9uSWQpIHtcclxuICAgICAgICBmaWx0ZXJlZCA9IGZpbHRlcmVkLmZpbHRlcihxID0+ICFxLmNvbm5lY3Rpb25JZCB8fCBxLmNvbm5lY3Rpb25JZCA9PT0gY29ubmVjdGlvbklkKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZmlsdGVyZWQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVTYXZlZFF1ZXJ5KGlkOiBzdHJpbmcsIHVwZGF0ZXM6IFBhcnRpYWw8T21pdDxTYXZlZFF1ZXJ5LCAnaWQnIHwgJ2NyZWF0ZWRBdCc+Pik6IFNhdmVkUXVlcnkgfCBudWxsIHtcclxuICAgIGNvbnN0IHF1ZXJpZXMgPSBsb2FkU2F2ZWRRdWVyaWVzKCk7XHJcbiAgICBjb25zdCBpbmRleCA9IHF1ZXJpZXMuZmluZEluZGV4KHEgPT4gcS5pZCA9PT0gaWQpO1xyXG4gICAgaWYgKGluZGV4ID09PSAtMSkgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgcXVlcmllc1tpbmRleF0gPSB7XHJcbiAgICAgICAgLi4ucXVlcmllc1tpbmRleF0sXHJcbiAgICAgICAgLi4udXBkYXRlcyxcclxuICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgIH07XHJcblxyXG4gICAgc2F2ZVNhdmVkUXVlcmllcygpO1xyXG4gICAgcmV0dXJuIHF1ZXJpZXNbaW5kZXhdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZGVsZXRlU2F2ZWRRdWVyeShpZDogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICBjb25zdCBxdWVyaWVzID0gbG9hZFNhdmVkUXVlcmllcygpO1xyXG4gICAgY29uc3QgaW5pdGlhbExlbmd0aCA9IHF1ZXJpZXMubGVuZ3RoO1xyXG4gICAgc2F2ZWRRdWVyaWVzID0gcXVlcmllcy5maWx0ZXIocSA9PiBxLmlkICE9PSBpZCk7XHJcblxyXG4gICAgaWYgKHNhdmVkUXVlcmllcy5sZW5ndGggPCBpbml0aWFsTGVuZ3RoKSB7XHJcbiAgICAgICAgc2F2ZVNhdmVkUXVlcmllcygpO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBmYWxzZTtcclxufVxyXG5cclxuLy8gTk8gYXV0b21hdGljIGluaXRpYWxpemF0aW9uIC0gZGF0YSBsb2FkcyBvbmx5IHdoZW4gZnVuY3Rpb25zIGFyZSBjYWxsZWRcclxuIl0sIm5hbWVzIjpbImZzIiwicGF0aCIsIkhJU1RPUllfRklMRSIsImpvaW4iLCJwcm9jZXNzIiwiY3dkIiwiU0FWRURfUVVFUklFU19GSUxFIiwicXVlcnlIaXN0b3J5IiwibG9hZFF1ZXJ5SGlzdG9yeSIsImV4aXN0c1N5bmMiLCJkYXRhIiwicmVhZEZpbGVTeW5jIiwicGFyc2VkIiwiSlNPTiIsInBhcnNlIiwiY29uc29sZSIsImxvZyIsImxlbmd0aCIsImVycm9yIiwic2F2ZVF1ZXJ5SGlzdG9yeSIsImhpc3RvcnkiLCJyZWNlbnRIaXN0b3J5Iiwic2xpY2UiLCJ3cml0ZUZpbGVTeW5jIiwic3RyaW5naWZ5IiwiYWRkUXVlcnlUb0hpc3RvcnkiLCJlbnRyeSIsImhpc3RvcnlFbnRyeSIsImlkIiwiRGF0ZSIsIm5vdyIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0ciIsInB1c2giLCJnZXRRdWVyeUhpc3RvcnkiLCJjb25uZWN0aW9uSWQiLCJsaW1pdCIsImZpbHRlcmVkIiwiZmlsdGVyIiwicmV2ZXJzZSIsImdldFVzZXJRdWVyeUhpc3RvcnkiLCJ1c2VyRW1haWwiLCJvcmdJZCIsImNsZWFyUXVlcnlIaXN0b3J5Iiwic2F2ZWRRdWVyaWVzIiwibG9hZFNhdmVkUXVlcmllcyIsInNhdmVTYXZlZFF1ZXJpZXMiLCJxdWVyaWVzIiwiY3JlYXRlU2F2ZWRRdWVyeSIsInF1ZXJ5IiwidG9JU09TdHJpbmciLCJzYXZlZFF1ZXJ5IiwiY3JlYXRlZEF0IiwidXBkYXRlZEF0IiwiZ2V0U2F2ZWRRdWVyaWVzIiwicSIsImdldFVzZXJTYXZlZFF1ZXJpZXMiLCJ1cGRhdGVTYXZlZFF1ZXJ5IiwidXBkYXRlcyIsImluZGV4IiwiZmluZEluZGV4IiwiZGVsZXRlU2F2ZWRRdWVyeSIsImluaXRpYWxMZW5ndGgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/queryStore.ts\n");

/***/ }),

/***/ "(rsc)/../../packages/utils/src/index.ts":
/*!*****************************************!*\
  !*** ../../packages/utils/src/index.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LogLevel: () => (/* reexport safe */ _logger__WEBPACK_IMPORTED_MODULE_0__.LogLevel),\n/* harmony export */   Logger: () => (/* reexport safe */ _logger__WEBPACK_IMPORTED_MODULE_0__.Logger)\n/* harmony export */ });\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./logger */ \"(rsc)/../../packages/utils/src/logger/index.ts\");\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvdXRpbHMvc3JjL2luZGV4LnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUF5QiIsInNvdXJjZXMiOlsid2VicGFjazovL0Bib3NkYi93ZWIvLi4vLi4vcGFja2FnZXMvdXRpbHMvc3JjL2luZGV4LnRzPzI3M2EiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSAnLi9sb2dnZXInO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../packages/utils/src/index.ts\n");

/***/ }),

/***/ "(rsc)/../../packages/utils/src/logger/index.ts":
/*!************************************************!*\
  !*** ../../packages/utils/src/logger/index.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LogLevel: () => (/* binding */ LogLevel),\n/* harmony export */   Logger: () => (/* binding */ Logger)\n/* harmony export */ });\n/**\n * Simple logger utility\n */ var LogLevel;\n(function(LogLevel) {\n    LogLevel[LogLevel[\"DEBUG\"] = 0] = \"DEBUG\";\n    LogLevel[LogLevel[\"INFO\"] = 1] = \"INFO\";\n    LogLevel[LogLevel[\"WARN\"] = 2] = \"WARN\";\n    LogLevel[LogLevel[\"ERROR\"] = 3] = \"ERROR\";\n})(LogLevel || (LogLevel = {}));\nclass Logger {\n    constructor(context, level = 1){\n        this.context = context;\n        this.level = level;\n    }\n    debug(message, ...args) {\n        if (this.level <= 0) {\n            console.debug(`[${new Date().toISOString()}] [DEBUG] [${this.context}]`, message, ...args);\n        }\n    }\n    info(message, ...args) {\n        if (this.level <= 1) {\n            console.log(`[${new Date().toISOString()}] [INFO] [${this.context}]`, message, ...args);\n        }\n    }\n    warn(message, ...args) {\n        if (this.level <= 2) {\n            console.warn(`[${new Date().toISOString()}] [WARN] [${this.context}]`, message, ...args);\n        }\n    }\n    error(message, ...args) {\n        if (this.level <= 3) {\n            console.error(`[${new Date().toISOString()}] [ERROR] [${this.context}]`, message, ...args);\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvdXRpbHMvc3JjL2xvZ2dlci9pbmRleC50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBOztDQUVDO1VBRVdBOzs7OztHQUFBQSxhQUFBQTtBQU9MLE1BQU1DO0lBSVRDLFlBQVlDLE9BQWUsRUFBRUMsU0FBK0IsQ0FBRTtRQUMxRCxJQUFJLENBQUNELE9BQU8sR0FBR0E7UUFDZixJQUFJLENBQUNDLEtBQUssR0FBR0E7SUFDakI7SUFFQUMsTUFBTUMsT0FBZSxFQUFFLEdBQUdDLElBQVcsRUFBUTtRQUN6QyxJQUFJLElBQUksQ0FBQ0gsS0FBSyxPQUFvQjtZQUM5QkksUUFBUUgsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUlJLE9BQU9DLFdBQVcsR0FBRyxXQUFXLEVBQUUsSUFBSSxDQUFDUCxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUVHLFlBQVlDO1FBQ3pGO0lBQ0o7SUFFQUksS0FBS0wsT0FBZSxFQUFFLEdBQUdDLElBQVcsRUFBUTtRQUN4QyxJQUFJLElBQUksQ0FBQ0gsS0FBSyxPQUFtQjtZQUM3QkksUUFBUUksR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUlILE9BQU9DLFdBQVcsR0FBRyxVQUFVLEVBQUUsSUFBSSxDQUFDUCxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUVHLFlBQVlDO1FBQ3RGO0lBQ0o7SUFFQU0sS0FBS1AsT0FBZSxFQUFFLEdBQUdDLElBQVcsRUFBUTtRQUN4QyxJQUFJLElBQUksQ0FBQ0gsS0FBSyxPQUFtQjtZQUM3QkksUUFBUUssSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUlKLE9BQU9DLFdBQVcsR0FBRyxVQUFVLEVBQUUsSUFBSSxDQUFDUCxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUVHLFlBQVlDO1FBQ3ZGO0lBQ0o7SUFFQU8sTUFBTVIsT0FBZSxFQUFFLEdBQUdDLElBQVcsRUFBUTtRQUN6QyxJQUFJLElBQUksQ0FBQ0gsS0FBSyxPQUFvQjtZQUM5QkksUUFBUU0sS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUlMLE9BQU9DLFdBQVcsR0FBRyxXQUFXLEVBQUUsSUFBSSxDQUFDUCxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUVHLFlBQVlDO1FBQ3pGO0lBQ0o7QUFDSiIsInNvdXJjZXMiOlsid2VicGFjazovL0Bib3NkYi93ZWIvLi4vLi4vcGFja2FnZXMvdXRpbHMvc3JjL2xvZ2dlci9pbmRleC50cz8wMTFkIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogU2ltcGxlIGxvZ2dlciB1dGlsaXR5XG4gKi9cblxuZXhwb3J0IGVudW0gTG9nTGV2ZWwge1xuICAgIERFQlVHID0gMCxcbiAgICBJTkZPID0gMSxcbiAgICBXQVJOID0gMixcbiAgICBFUlJPUiA9IDMsXG59XG5cbmV4cG9ydCBjbGFzcyBMb2dnZXIge1xuICAgIHByaXZhdGUgY29udGV4dDogc3RyaW5nO1xuICAgIHByaXZhdGUgbGV2ZWw6IExvZ0xldmVsO1xuXG4gICAgY29uc3RydWN0b3IoY29udGV4dDogc3RyaW5nLCBsZXZlbDogTG9nTGV2ZWwgPSBMb2dMZXZlbC5JTkZPKSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMubGV2ZWwgPSBsZXZlbDtcbiAgICB9XG5cbiAgICBkZWJ1ZyhtZXNzYWdlOiBzdHJpbmcsIC4uLmFyZ3M6IGFueVtdKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmxldmVsIDw9IExvZ0xldmVsLkRFQlVHKSB7XG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKGBbJHtuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCl9XSBbREVCVUddIFske3RoaXMuY29udGV4dH1dYCwgbWVzc2FnZSwgLi4uYXJncyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpbmZvKG1lc3NhZ2U6IHN0cmluZywgLi4uYXJnczogYW55W10pOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMubGV2ZWwgPD0gTG9nTGV2ZWwuSU5GTykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYFske25ldyBEYXRlKCkudG9JU09TdHJpbmcoKX1dIFtJTkZPXSBbJHt0aGlzLmNvbnRleHR9XWAsIG1lc3NhZ2UsIC4uLmFyZ3MpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgd2FybihtZXNzYWdlOiBzdHJpbmcsIC4uLmFyZ3M6IGFueVtdKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmxldmVsIDw9IExvZ0xldmVsLldBUk4pIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgWyR7bmV3IERhdGUoKS50b0lTT1N0cmluZygpfV0gW1dBUk5dIFske3RoaXMuY29udGV4dH1dYCwgbWVzc2FnZSwgLi4uYXJncyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBlcnJvcihtZXNzYWdlOiBzdHJpbmcsIC4uLmFyZ3M6IGFueVtdKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmxldmVsIDw9IExvZ0xldmVsLkVSUk9SKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBbJHtuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCl9XSBbRVJST1JdIFske3RoaXMuY29udGV4dH1dYCwgbWVzc2FnZSwgLi4uYXJncyk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iXSwibmFtZXMiOlsiTG9nTGV2ZWwiLCJMb2dnZXIiLCJjb25zdHJ1Y3RvciIsImNvbnRleHQiLCJsZXZlbCIsImRlYnVnIiwibWVzc2FnZSIsImFyZ3MiLCJjb25zb2xlIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiaW5mbyIsImxvZyIsIndhcm4iLCJlcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../packages/utils/src/logger/index.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fhistory%2Froute&page=%2Fapi%2Fhistory%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fhistory%2Froute.ts&appDir=C%3A%5CUsers%5CArush%20Gupta%5CDownloads%5CBosDB-Browser%5Capps%5Cweb%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CArush%20Gupta%5CDownloads%5CBosDB-Browser%5Capps%5Cweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();